<ion-toolbar class="new-background-color">
  <ion-item lines="none" class="new-background-color">
    <ion-icon (click)="closePage()" name="close" style=" color: #2b0c43"></ion-icon>
    <ion-title style="margin-left: 5%; color: #2b0c43">Present Skillsets</ion-title>
  </ion-item>
</ion-toolbar>

<ion-content>
  <ion-card class="cardMargins boxShadow">
    <ion-card-content>
      <div class="formPadding">
        <form [formGroup]="updateSkillsetDetailsForm"
          (ngSubmit)="updateSkillsetDetail(updateSkillsetDetailsForm.value)">
          <mat-form-field class="inputFields">
            <mat-label>Industry</mat-label>
            <mat-select  formControlName="industry" [errorStateMatcher]="esMatcher"
              [(ngModel)]="dataArray.industryId == 0 ? '' : dataArray.industryId"
              (selectionChange)="selectedIndustry($event.value)" [aria-label]="readIndustry">
              <mat-option *ngFor="let item of industryTypeArray" [value]="item.id">
                {{item.name}}
              </mat-option>
            </mat-select>
            <mat-error>
              <span *ngIf="updateSkillsetDetailsForm.controls.industry.errors?.required">Industry is required.</span>
            </mat-error>
          </mat-form-field>

          <mat-form-field class="inputFields">
            <mat-label>Functional Area</mat-label>
            <mat-select formControlName="functionalArea" [errorStateMatcher]="esMatcher"
              [(ngModel)]="dataArray.functionalAreaId == 0 ? '' : dataArray.functionalAreaId" (selectionChange)="selectedFunctionalArea($event.value)" [aria-label]="readFunctionalArea">
              <mat-option *ngFor="let item of functionAreaList" [value]="item.id">
                {{item.name}}
              </mat-option>
            </mat-select>
            <mat-error>
              <span *ngIf="updateSkillsetDetailsForm.controls.functionalArea.errors?.required">Functional area is
                required.</span>
            </mat-error>
          </mat-form-field>

          <ion-label>Total Experience:</ion-label>
          <ion-row>
            <ion-col size="6">
              <mat-form-field class="inputFields">
                <mat-label>Year</mat-label>
                <mat-select formControlName="year" [errorStateMatcher]="esMatcher"
                  [(ngModel)]="dataArray.totalYearExperience"  (selectionChange)="selectedYear($event.value)" [aria-label]="readYear">
                  <mat-option *ngFor="let item of yearExperianceArray" [value]="item">
                    {{item}}
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </ion-col>

            <ion-col size="6">
              <mat-form-field class="inputFields">
                <mat-label>Month</mat-label>
                <mat-select formControlName="month" [errorStateMatcher]="esMatcher"
                  [(ngModel)]="dataArray.totalMonthExperience" (selectionChange)="selectedMonth($event.value)" [aria-label]="readMonth">
                  <mat-option *ngFor="let item of monthExperianceArray" [value]="item">
                    {{item}}
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </ion-col>
          </ion-row>


          <mat-form-field class="inputFields">
            <input matInput placeholder="Key Skills" formControlName="KeySkills" [(ngModel)]="dataArray.KeySkills"
              [errorStateMatcher]="esMatcher" pattern="^[a-zA-Z]+[\-'\s\]?[a-zA-Z,. ]+$">
            <mat-icon matSuffix color="warn"
              *ngIf="(updateSkillsetDetailsForm.controls.KeySkills.invalid && updateSkillsetDetailsForm.controls.KeySkills.touched) || (updateSkillsetDetailsForm.controls.KeySkills.invalid && showErrorIcon && !updateSkillsetDetailsForm.controls.KeySkills.touched)">
              error
            </mat-icon>
            <mat-error>
              <span *ngIf="updateSkillsetDetailsForm.controls.KeySkills.errors?.required">Key skills is required.</span>
              <span *ngIf="updateSkillsetDetailsForm.controls.KeySkills.errors?.pattern">Please enter valid Key
                skills.</span>
            </mat-error>
          </mat-form-field>

          <p style="color: gray;">Note: You can add multiple skills seperated by comma.</p>
          <br>
          <button type="submit" class="buttonfont selector loginButton">SAVE</button>
        </form>
      </div>
    </ion-card-content>
  </ion-card>
</ion-content>